<div th:fragment="html"> 
	<script>
		$(function(){
	        var data4Vue = {
	        		uri:'foredemand',
	        		demands:[],
	        		demand:'',
	        		categorydemands:[],
	        		pagination:{}
	        };
	        //ViewModel
	        var vue = new Vue({
	            el: '#workingArea',
	            data: data4Vue,
	            mounted:function(){ //mounted　表示这个 Vue 对象加载成功了
	            	this.load(0);
	            },        
	            methods: {     	
	            	load:function(start){
	                    var url =  this.uri+"?start="+start;
	                    axios.get(url).then(function(response) {
	                    	vue.pagination = response.data;
	                    	vue.demands = response.data.content;
	                    	vue.categorydemands = response.data.content;
	                    	console.log("需求为:"+vue.demands);
	                        vue.$nextTick(function(){
	        	            	linkDefaultActions();
	                        })
	                    });
	                    
	            	},
	            	getdemand:function(categoryname){
	            		console.log(categoryname);
	            		vue.categorydemands=[];
	            		if(categoryname=="全部行业"){
	            			console.log("回答正确，输出"+categoryname);
	            			vue.categorydemands=vue.demands;
	            		}else{
	            			for(var i=0;i<vue.demands.length;i++){
	            				if(categoryname==vue.demands[i].industryType){
	            					console.log(categoryname+","+vue.demands[i].industryType);
	            					vue.categorydemands.push(vue.demands[i]);
	            				}
	            			}
	            		}
	            		console.log("categorydemands："+vue.categorydemands);
	            	},
	            	jump: function(page){
	                    jump(page,vue); //定义在adminHeader.html 中
	                },
	                jumpByNumber: function(start){
	                    jumpByNumber(start,vue);
	                }
	            }
	        });       			
			
		})
	</script>
	
<!-- 	<title>模仿天猫官网-{{c.name}}</title>	 -->
	<div id="category">
			<!-- <img v-if="c.id!=null" :src="'img/category/'+c.id+'.jpg'"> -->
			<!-- <div th:replace="include/fore/category/sortBar::html" ></div>	 -->
			<div th:replace="include/fore/demand/demandList::html" style="align="center"></div>	
	</div>
</div>
